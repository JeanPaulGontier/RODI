using AIS;
using DotNetNuke.Entities.Modules;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using AIS;
public partial class DesktopModules_AIS_News_Detail_Control : PortalModuleBase
{
    protected void Page_Load(object sender, EventArgs e)
    {
        string newsid = (""+Request.QueryString["newsid"]);
        if (newsid == "")
            Functions.Error(new Exception("Newsid inconnu : " + newsid));
        Nouvelle news = DataMapping.GetNews(newsid);
        if (news != null)
        {
            LBL_Titre.Text = news.titre;
            LBL_Detail.Text = news.texte;
            LBL_Date.Text = news.dt.ToShortDateString();
            Image1.ImageUrl = news.GetPhoto();
            Image1.Visible = Image1.ImageUrl != "";
            HL_Url.NavigateUrl = news.GetUrl();
            HL_Url.Text = news.url_texte;
            HL_Url.Visible = news.url.Trim() != "";
            LBL_Url.Visible = HL_Url.Visible;
        }
    }
}