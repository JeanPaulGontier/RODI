"use strict";function InitApp(n,t,i,r,u){var f=Vue,o=f.createApp,s=f.reactive,h=new s({changed:null}),e=o({setup:function(){return{myStore:h}},data:function(){return{blocks:[],editable:r,toggleable:u,toggling:!1}},components:{BlocksEditor:BlocksEditor},methods:{isEditable:function(){return this.toggleable?this.toggling:this.editable},getBlocks:function(){var n=this;_yemon[t].service.getData("/GetItem",{name:"blockscontent:"+i},function(t){n.blocks=[];t.data&&(n.blocks=JSON.parse(t.data));n.$forceUpdate()})},toggle:function(n){this.toggling=n},changed:function(){var n=this;_yemon[t].service.postData("/SetItem",{name:"blockscontent:"+i,value:JSON.stringify(this.blocks),keephistory:!1},function(t){t.status!=200&&toastr.error("Erreur");n.changed=!1;toastr.success("Enregistré");n.$nextTick(function(){n.$forceUpdate()})},function(t){toastr.error("Erreur : "+t.response.data.Message);n.$nextTick(function(){n.$forceUpdate()})})}},mounted:function(){this.myStore.changed=this.changed;this.getBlocks()}});e.component("cropper",VueAdvancedCropper.Cropper);e.mount("#"+n)}